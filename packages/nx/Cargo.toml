[package]
name = 'nx'
version.workspace = true
edition.workspace = true
license.workspace = true

[lib]
crate-type = ['cdylib']


[dependencies]
nx_glob = { workspace = true}
anyhow = { workspace = true }
colored = { workspace = true }
crossbeam-channel = { workspace = true }
dashmap = { workspace = true }
dunce = { workspace = true }
fs_extra = { workspace = true }
hashbrown = { workspace = true }
ignore = { workspace = true }
itertools = { workspace = true }
parking_lot = { workspace = true }
napi = { workspace = true }
napi-derive = { workspace = true }
regex = { workspace = true }
rayon = { workspace = true }
rkyv = { workspace = true }
thiserror = { workspace = true }
tracing = { workspace = true }
tracing-subscriber = { workspace = true }
walkdir = { workspace = true }
xxhash-rust = { workspace = true }
swc_common = { workspace = true }
swc_ecma_parser = { workspace = true }
swc_ecma_ast = { workspace = true }

[target.'cfg(windows)'.dependencies]
winapi = { workspace = true }

[target.'cfg(all(not(windows), not(target_family = "wasm")))'.dependencies]
mio = { workspace = true }


[target.'cfg(not(target_arch = "wasm32"))'.dependencies]
portable-pty = { workspace = true }
crossterm = { workspace = true }
ignore-files = { workspace = true }
fs4 = { workspace = true }
rusqlite = { workspace = true }
watchexec = { workspace = true }
watchexec-events = { workspace = true }
watchexec-filterer-ignore = { workspace = true }
watchexec-signals = { workspace = true }
machine-uid = { workspace = true }



[build-dependencies]
napi-build = { workspace = true }

[dev-dependencies]
assert_fs = { workspace = true }
# This is only used for unit tests
swc_ecma_dep_graph = { workspace = true }
tempfile = { workspace = true }
# We only explicitly use tokio for async tests
tokio = { workspace = true }
